---
title: "AWS SAA 取ったので勉強メモ公開する"
emoji: "🍣"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["aws","zennfes2025infra"]
published: false
---

## 🌼 はじめに

こんにちは、にわかエンジニアです。

私はにわかエンジニアなのでインフラまわりは全然わからなかったですが、どんどんインフラ知らずに開発していくことに限界を感じていたのでちゃんと勉強しようと心に決めました。 そのはじめの一歩として AWS SAA(Solutions Architect Associate ) 取得したので、勉強時に取っといたメモを公開しようと思います。

資格準備している方や、諸々忘れてる未来の自分にお役に立てたらと思います。

:::message
私が勉強していた模擬試験問題に出題されたサービスを整理したものであり、AWS全サービスを網羅したものではありません
:::

## ネットワーク

### Amazon VPC (Virtual Private Cloud)

#### VPC (Virtual Private Cloud)
- AWS 内に仮想プライベートネットワークを構築できるサービス

#### サブネット (Subnet)
VPC 内をアベイラビリティゾーン(AZ)単位に分割したIP範囲
- パブリックサブネット
  - インターネットゲートウェイへの直接ルートがある
  - パブリックサブネット内のリソースはパブリックインターネットにアクセスできる
- プライベートサブネット
  - インターネットゲートウェイへの直接ルートがない
  - プライベートサブネット内のリソースにはパブリックインターネットへのアクセス用に NAT デバイスが必要

:::message
サブネットはAZを跨いで作成できない（1つのAZ内に複数のサブネットを作成可能）
:::

#### VPC の外部通信

- インターネットゲートウェイ (Internet Gateway)
    - パブリックサブネットとパブリックインターネットを接続
- NAT ゲートウェイ (Network Address Translation Gateway)
    - プライベートサブネット内のインスタンスと VPC 外のサービスを接続
- VPC ピアリング接続 (VPC Peering)
    - 独立した 2 つの VPC を接続し、プライベートアドレスで相互通信
- 仮想プライベートゲートウェイ (Virtual Private Gateway)
    - オンプレミス↔AWS 接続時の VPC 側ゲートウェイ
- カスタマーゲートウェイ (Customer Gateway)
    - オンプレミス↔AWS 接続時のオンプレミス側ゲートウェイ
- VPC エンドポイント (VPC Endpoint)
    - VPC 内リソースがインターネットを経由せずに AWS サービスへプライベートアクセスするための機能
    - 種類
        - ゲートウェイ型 VPC エンドポイント：S3、DynamoDB 専用（エンドポイント自体の費用なし）
        - インターフェイス型 VPC エンドポイント：大半の AWS サービスが対象
- Transit Gateway（トランジットゲートウェイ）
    - 複数の VPC やオンプレミスネットワーク（VPN/Direct Connect）をハブで集約し、中央でルーティング

#### VPC のアクセス制御

- セキュリティグループ (Security Group)
    - リソース単位でのイン/アウトのトラフィック制御
    - ステートフルのため応答トラフィックは自動許可（インバウンド既定拒否、アウトバウンド既定許可）
- ネットワーク ACL (Network Access Control List)
    - サブネット単位でのイン/アウトのトラフィック制御
    - ステートレスのため応答トラフィックにも明示許可が必要

### Amazon Route 53

- DNS（Domain Name System）サービス
- ドメイン名と IP アドレスの名前解決

#### ルーティングポリシー

最も適切・高速な応答を返すための応答動作の指定

- シンプルルーティング (Simple)
    - 基本的なルーティング
- フェイルオーバールーティング (Failover)
    - プライマリ障害時にセカンダリへ自動切替
- 加重ルーティング (Weighted)
    - 指定比率に基づいてトラフィック分散
- レイテンシーベースルーティング (Latency-based)
    - ユーザーに最も遅延の小さいリージョンへ誘導
- 位置情報ルーティング (Geolocation)
    - ユーザーの位置（国/大陸）に基づいて誘導
- マルチバリュー回答ルーティング (Multi-Value Answer)
    - ヘルスチェック済み複数 IP を簡易ラウンドロビン
- ジオプロキシミティールーティング (Geoproximity)
    - ユーザーとシステムの物理距離に基づいてルーティング

### ELB (Elastic Load Balancing)

#### ALB (Application Load Balancer)
- L7（アプリケーション層）でのルーティング（HTTP/HTTPS）

#### NLB (Network Load Balancer)
- L4（トランスポート層）でのルーティング（TCP/UDP）

## コンピューティング

### Amazon EC2 (Elastic Compute Cloud)

#### EC2 (Elastic Compute Cloud)
- 仮想サーバー環境を提供するサービス

#### EIP (Elastic IP)
- 動的なクラウド用に設計された固定 IPv4 アドレス
- インスタンスの再起動/差し替えでも IP を固定可能

#### インスタンスタイプ

- 汎用
    - T：小規模アプリ向け、M：多くのアプリで汎用
- コンピューティング最適化
    - 高い CPU 性能が必要なワークロード
- メモリ最適化
    - 大容量メモリが必要なワークロード
- ストレージ最適化
    - 非常に高い I/O 性能が必要なワークロード

#### 購入オプション

- オンデマンドインスタンス (On-Demand)
    - 使った分を秒/時間単位で課金、契約期間なし
- リザーブドインスタンス (Reserved Instances)
    - 1 年/3 年のコミットで料金割引
    - 種類
        - Standard RI：割引最大、属性固定
        - Convertible RI：割引は低め、期間中に他属性へ交換可
- スポットインスタンス (Spot Instances)
    - 余剰キャパシティを入札型で低価格提供
    - いつ落ちても良い無状態・再試行可能なジョブに推奨
- Savings Plans
    - 1 年/3 年の時間当たり利用額をコミット（RI より変更が柔軟）

#### 配置グループ (Placement Groups)
- EC2 起動時に AZ 内での物理配置戦略を選択
- 種類
    - クラスター：1 AZ 内の近接配置（インスタンス間レイテンシー小）
    - スプレッド：インスタンスを異なるハードウェアに分散配置（同時障害を最小化）
    - パーティション：AZ を複数パーティションに分け、それぞれ異なるハードウェアに配置（大規模分散の障害分離）

#### オートスケーリング (ASG)

負荷上昇や障害を検知し、EC2 台数を自動で増減

#### 既定の終了（縮小）ポリシー
1. インスタンス数が最も多い AZ を確認
2. 最も古い起動設定を確認
3. 課金単位/寿命などを考慮

## ストレージ

### Amazon S3 (Simple Storage Service)
- 事実上無制限のオブジェクトストレージ
- 高い耐久性、低コスト

#### ストレージクラス

- Standard（標準）
    - 一般用途
- Intelligent-Tiering
    - アクセス頻度に応じて自動でクラスを切替
- Standard-IA（低頻度アクセス）
    - 標準より安価（取り出し時に従量課金）
- One Zone-IA
    - 単一 AZ に保存する代わりに安価（取り出し時に従量課金）
- Glacier Instant Retrieval
    - アーカイブ用途、ミリ秒で取り出し
- S3 Glacier Flexible Retrieval
    - アーカイブ用途、取り出しに数分～数時間
- Glacier Deep Archive
    - 最安、取り出しに 12～24 時間

#### 機能

- ライフサイクル
    - 経過日数に応じて削除やクラス変更を自動化
- 署名付き URL
    - S3 オブジェクトへの一時的アクセス URL を発行
- バケットポリシー
    - 誰がどのオブジェクトに何をできるかを詳細制御
- バージョニング
    - オブジェクト更新の世代管理
- Transfer Acceleration
    - グローバルなエッジロケーション（CloudFront）経由で S3 へのアップ/ダウンロードを高速化
- マルチパートアップロード
    - 大きなファイルを分割し並列・差分再送で効率化
- Object Lock
    - オブジェクトを変更/削除不可で保持
        - モード
            - ガバナンスモード：管理者権限での迂回/短縮が可能
            - コンプライアンスモード：誰も迂回/短縮不可
- アクセスポイント (Access Points)
    - 大規模バケットを消費者（アプリ/チーム/VPC）ごとの専用エンドポイントで安全に分離利用
- Inventory
    - バケット（またはプレフィックス）配下のオブジェクト一覧とメタデータを定期的に CSV/Parquet 出力
- Batch Operations
    - 数百万～数十億オブジェクトの一括処理

### Amazon EBS (Elastic Block Store)

- EC2 用ブロックストレージ
- EBS ボリューム（EBS で作られたブロックストレージ）は EC2 インスタンスにアタッチ
- EBS ボリュームは同一 AZ の EC2 にのみ接続可能

:::message
EBS は EC2 インスタンスを停止しても料金が発生する
:::

#### ボリューム種類
- 汎用 SSD（gp3）
    - 既定
- プロビジョンド^[プロビジョニング(Provisioning): サーバー・ストレージ・ネットワークなどを事前に準備し、アプリケーションがすぐに使用できるようにする準備作業] IOPS SSD（io2）
    - 必要な IOPS^[IOPS(Input/Output Operations Per Second): 1秒あたりに処理可能な読み取り/書き込みのアクセス回数] を指定して作成。高スループット要求に適合
    - ボリュームあたり最大 IOPS は 64,000 (通常の io2 基準)
- スループット最適化 HDD（st1）
    - 高スループット・低コスト
- コールド HDD（sc1）
    - 参照頻度の低いデータ保管に適合（アーカイブ等）

:::message
スループット/コストが大きい順：プロビジョンド IOPS SSD > 汎用 SSD > スループット最適化 HDD > コールド HDD
:::

### Amazon EFS (Elastic File System)

- AWS 上のフルマネージドな共有ファイルストレージ
- VPC 内に作成し、EC2/ECS などから利用可能

#### スループットモード

- バーストモード
    - 容量に比例する基本スループットにクレジットで一時加速
- プロビジョンドモード
    - 容量に関わらず有料で所望スループットを常時確保

### Amazon FSx

- フルマネージドのファイルストレージ製品群

#### FSx for Windows File Server
- ネイティブな Windows ファイルサーバー（SMB^[SMB(Server Message Block): Windows式ネットワークファイル共有プロトコル]）を AWS が運用代行
- Windows 向けのファイルストレージを提供（SMB）

#### FSx for NetApp ONTAP
- NetApp のエンタープライズ向けファイルシステム ONTAP をフルマネージドで提供
- ファイル（NFS^[NFS(Network File System): ネットワーク経由でリモートフォルダを共有し、クライアントがローカルディレクトリのようにマウントして使用できるファイルプロトコル], SMB）、ブロック（iSCSI^[iSCSI（Internet Small Computer Systems Interface）：IPネットワーク上でリモートストレージを「ブロックディスク」のようにマウントして使用できるようにするプロトコル]）を提供

## データベース

### Amazon RDS (Relational Database Service)
- 構築/運用を容易にするマネージドなリレーショナルデータベース

#### 機能

- マルチ AZ 配置 (Multi-AZ)
    - 別 AZ にスタンバイ DB を配置
    - 同期レプリケーション^[同期レプリケーション: プライマリインスタンスがトランザクションのコミットを完了したと応答する前に、同一リージョンのスタンバイに複製された後にコミットを確定する方式]のため理論上 RPO^[RPO（Recovery Point Objective）：障害発生時に許容可能な最大データ損失時間] ≈ 0。ただしプライマリがスタンバイ確認を待つため書き込み遅延がわずかに増える可能性あり
- 読み取り専用レプリカ (Read Replicas)
    - 参照専用の複製インスタンス
    - 非同期レプリケーション^[非同期レプリケーション: プライマリが先にコミットを完了して応答した後、その変更を後でレプリカが受け取って適用する方式]のため書き込み遅延は増えないが、昇格時に数秒～分のデータ欠落の可能性（RPO > 0）
- 自動バックアップ (Automated Backups)
    - 毎日自動バックアップを取得し、保持期間（1–35 日）で保管

### Amazon Aurora

- RDS の DB エンジンの一種
- 他の RDS より高可用・高速フェイルオーバー・リードレプリカの拡張/オートスケールが強み

:::message
書き込み性能が頭打ちでも、読み取り専用レプリカを増やしてリードを分散すると Writer のリソースが確保され全体性能が改善することがある
:::

#### 機能

- Aurora Serverless
    - トラフィックに応じて自動的に容量を増減（ほぼ無停止で微細スケーリング）
- Aurora Global Database
    - 複数リージョンにまたがるグローバルクラスター構成
    - 一般に RPO ≈ 1 秒未満、RTO^[RTO (Recovery Time Objective): 障害発生時にサービスを復旧し、正常な運用状態に戻るまでに要する最大時間] は数分程度のマネージドなフェイルオーバー/スイッチオーバー

### Amazon DynamoDB

- スキーマレスの NoSQL テーブル

#### 機能

- DynamoDB Accelerator（DAX）
    - 読み取り専用のマネージドインメモリキャッシュ
- Global Tables
    - 単一テーブルを複数リージョンに自動複製し、各リージョンでローカル同等に読み書き可能

:::message
DynamoDB には Read Replica（読み取りレプリカ）は存在しない
:::

### Amazon Neptune

- フルマネージドなグラフデータベース

### Amazon ElastiCache

- 設定・運用・拡張が容易なマネージドキャッシュ
- 主に RDB のマスターデータのキャッシュやセッション共有で高速化

#### ElastiCache for Memcached
- 文字列中心の軽量インメモリキャッシュ
- 永続化/レプリケーション/自動フェイルオーバーなし

#### ElastiCache for Redis
- 多様なデータ構造と永続性・複製・フェイルオーバーまでをサポートするインメモリキーバリューデータストア
- 永続化、レプリケーション、Multi-AZ 自動フェイルオーバー、クラスターシャーディング^[クラスタシャード: データを複数の「シャード」(=パーティション)に分割し、複数のノードに分散して保存/処理する方式]対応

### AWS SCT (Schema Conversion Tool)

- 異種 DB 間のスキーマ変換ツール。テーブル/インデックス/ビュー/ストアドなどを対象 DB の文法へ変換し、難所は修正ガイド提示

### AWS DMS (Database Migration Service)

- 最小ダウンタイム^[ダウンタイム(downtime): システムやサービスが利用できない時間]で AWSへの移行（マイグレーション）や持続的な複製（同期）を可能にするフルマネージドサービス
- ソース/ターゲットが同種（Oracle→RDS for Oracle）でも異種（Oracle→Aurora MySQL）でも可

## アプリケーション統合

### Amazon SQS (Simple Queue Service)
- 拡張性を提供する完全管理型の分散メッセージキューサービス

#### SQS の構成要素

- プロデューサー（Producer）
    - キューへメッセージを送る送信元（例：EC2, Fargate, Lambda 等）
- メッセージ（Message）
    - プロデューサーが生成するデータ
- キュー（Queue）
    - 受信メッセージの保管
- コンシューマー（Consumer）
    - キューからメッセージを取得する側（例：EC2, Fargate, Lambda 等）

#### キューの種類

- Standard
    - メッセージ順序は保証しない
    - At-least-once 配信
- FIFO (First-In, First-Out)
    - メッセージ順序を保証
    - Exactly-once 処理

#### メッセージ取得の流れ

1. コンシューマーがキューをポーリング（メッセージ有無を定期確認）
2. コンシューマーがメッセージ取得・処理
3. 処理完了後、コンシューマーがメッセージを削除

複数回の処理に失敗したメッセージは DLQ（デッドレターキュー）へ移動

:::message
- SQS は受信＝削除ではない。コンシューマーがメッセージを取得すると、キューのメッセージは非表示状態となり（可視性タイムアウト）、コンシューマーが処理後にキューからメッセージを削除して初めて実際に除去される。
- もしコンシューマーのメッセージ処理が時間かかりすぎた場合、可視性タイムアウトが終了して再びメッセージが見える状態になり、別のコンシューマーが処理することで重複処理になることがある。これを防ぐためには可視性タイムアウト時間を増やす必要がある（これ試験に出てた）
:::

### Amazon SNS (Simple Notification Service)
- マネージドなメッセージ配信サービス

#### SNS の構成要素

- パブリッシャー（Publisher）
    - メッセージを発行する送信元（例：EC2, S3, Lambda 等）
- トピック（Topic）
    - 論理的な配信ポイント（チャンネル）
    - トピックに発行されたメッセージは即時にサブスクライバーへ配信
- サブスクライバー（Subscriber）
    - トピックを購読するエンドポイント（例：SQS, Lambda 等）

:::message
- SNS はプッシュモデルのため、サブスクライバーがポーリングすることはできない
- トピックはメッセージを保持せず即時配信
- ファンアウト^[ファンアウト(fan-out): 1つのメッセージを複数の消費者に複製して同時に送信するパターン]可能（複数サブスクライバーへ同時配信）
  :::

### Amazon EventBridge

- AWS サービス・社内アプリ・SaaS のイベントをイベントバス^[イベントバス(event bus): 複数箇所から発生するイベントを一つの経路で受け取り集約し、必要な場所へルールに従って送信する中間ハブ]に集め、フィルタ/変換して宛先（Lambda, Step Functions, SQS/SNS, ECS 等）へ送るイベント駆動統合サービス

## 認証・認可
### Amazon IAM (Identity and Access Management)

- IAM ユーザー
    - AWS アカウント内に作成できるユーザー
- IAM グループ
    - ユーザーをまとめる単位
- IAM ポリシー
    - AWS リソースへのアクセス権限を定義
    - ユーザー/グループ/ロールに付与 → その主体ができる操作を定義
    - リソースに付与 → そのリソースへ誰がどうアクセスできるかを定義
- IAM ロール
    - 特定権限を持つ IAM 資格情報（グループには割り当て不可）
- STS (Security Token Service)
    - 一時的な認証情報（IAM ロールの一時的アクセス）を発行
- IAM Database Authentication
    - 有効約 15 分のトークンで、パスワードなしに RDS/Aurora（MySQL・PostgreSQL）へ接続

## CDN
### Amazon CloudFront
- CDN 機能を持つマネージドサービス
- オリジン（配信元サーバー）とエッジロケーション（一部コンテンツを一時キャッシュ）で構成

## エンタープライズ

### AWS Global Accelerator
- AWS のグローバルネットワークを用いて到達性と可用性を向上

:::message
Global Accelerator のエンドポイントは ALB, NLB, EC2, EIP（S3 は不可）
:::

### AWS VPN

- クライアント拠点や端末、VPC 間で VPN 接続を確立し、閉じた接続を実現する

#### Site-to-Site VPN

- オンプレミス ↔ AWS を VPN 接続（マネージド）
- カスタマーゲートウェイと仮想プライベートゲートウェイで構成

### AWS Direct Connect

- ユーザーの拠点とAWSを専用線で接続するサービス
- 専用線により安定した閉域ネットワーク通信が可能

:::message
優れた回復力を備えた接続が必要な場合は、二重化されたDX（Direct Connect）を推奨
:::

### AWS Storage Gateway

- オンプレミスと AWS を連携し、オンプレミスのバックアップ取得などを行うサービス

#### File Gateway
- オンプレミスに NFS/SMB を提供し、ファイルを S3 に自動保存（ローカルキャッシュ + 非同期アップロード）
- オンプレシステムのアクセス速度を保ちつつバックアップしたい場合に適合

#### Volume Gateway
- オンプレミスのディスクデータを一部/全部残しつつ S3 に複製
- 種類
    - Cached Volumes：実体は S3、よく使うブロックのみローカルキャッシュ
    - Stored Volumes：実体はオンプレ、変更分を非同期スナップショットで S3 にバックアップ

### AWS Snowball Edge
- インターネットなしで物理デバイスから大容量データをAWSサービスに移行する移行ボックス
- 数十 TB～PB 級のオンプレ↔AWS 移行に有用

### AWS DataSync
- オンプレミス ↔ AWS間（またはAWS間）の大容量ファイルデータ転送を自動化/高速化するオンライン転送サービス

### AWS Organizations
- 複数 AWS アカウントを一元管理

#### 機能

- SCP (Service Control Policy)
    - 各アカウント/OU^[OU（Organizational Unit）: AWS Organizationsでアカウントをまとめるフォルダー/グループ] に付与し、そのアカウントで絶対に許可しないアクション・サービス・リージョンを中央で制限
    - 各アカウントの IAM 権限が取り得る最大範囲（上限）を定義

## サーバーレス

### AWS Lambda

- Lambda 関数
    - 必要なときに必要なだけコードを実行するサーバーレスの中核

:::message
- Lambda 関数の最大実行時間は15分であるため、それ以上かかる処理はLambda関数では処理できない
- Lambda の環境変数は KMS で暗号化可能
:::

### Amazon Cognito
- Web/モバイルアプリに認証機能を提供するサービス

#### ユーザープール (User Pool)
- 会員・ログイン基盤を提供するマネージドサービス

#### ID プール (Identity Pool)
- ユーザープールで認証されたユーザーに一時的なSTSを発行し、AWSサービスへのアクセスを許可する機能

:::message
ユーザープール単体では AWS へのアクセス資格情報は発行できない
:::

## コンテナ

### Amazon ECS (Elastic Container Service)
- Docker コンテナを容易に実行/停止/管理し、自由にスケール可能なコンテナサービス
- リージョン内で複数 AZ にまたがって起動可能（高可用）

#### 実行タイプ
- EC2 起動タイプ
    - ユーザーが EC2 クラスター^[クラスター: 複数のコンピューティングリソースを一つの束にまとめ、一つのシステムのように使用する集合] を運用
- Fargate 起動タイプ
    - サーバーレス（クラスター運用を AWS が代行）

#### 機能

- ECS Anywhere
    - オンプレ（や他クラウド）のサーバー上コンテナを、AWS コンソールから一元的に配布・更新・監視

### Amazon EKS (Elastic Kubernetes Service)
- コンテナオーケストレーションプラットフォームである Kubernetes のマネージドサービス

#### ワーカーノード

- マネージドノードグループ (Managed Node Group)
    - EC2 ワーカー運用を自動化
    - ただし EC2 課金/セキュリティグループ/IAM インスタンスプロファイルは必要
- 自己管理ノード (Self-managed)
    - ASG/AMI/パッチを自前で運用
    - 最大限カスタマイズ可だが運用負荷↑
- AWS Fargate
    - ノード概念なしで Pod 単位サーバーレス実行
    - DaemonSet が使えない等、一部 Kubernetes 機能制限あり

#### 権限付与

Kubernetes の SA（Service Account）単位で AWS 権限を与えるには IRSA（IAM Roles for Service Accounts）が必要

1. EKS OIDC^[OIDC (OpenID Connect): 認証標準としてユーザーを証明するIDトークン(JWT)の発行] プロバイダ登録
2. IAM ポリシー＋ロール作成
3. Kubernetes の SA にロールをアノテーションで関連付け

## データ分析
### Amazon Kinesis
- ストリーミングデータ^[ストリーミングデータ: 連続的（リアルタイム）に生成・発生し、遅延なく即時消費・処理すべきデータ] の取り込み/配信を担うマネージドサービス

#### Kinesis Data Streams
- 外部から送られたストリームデータを受け取り、AWS サービスへリアルタイム配信
#### Amazon Data Firehose（旧Kinesis Data Firehose）
- S3、Redshift、OpenSearch などへストリームデータをロード
#### Kinesis Video Streams
- 映像をストリームとして取り込み、各種 AWS サービスやデバイスへ配信

### AWS Glue
- 多様なデータストア間のデータ移送を容易にする強力な ETL^[ETL: データ処理パイプラインの典型的な3段階(Extract, Transform, Load)を指す略語] サービス
- S3、Amazon RDS、Amazon Redshiftなど、様々なソースからデータを転送するためのETLジョブを簡単に作成・管理できる
- 特定の要件に合わせて、必要に応じてデータを変換できる

### AWS Glue DataBrew
- データ前処理を GUI で素早く行えるサービス

### Amazon EMR (Elastic MapReduce)
- マネージドなビッグデータ/分散処理プラットフォーム

### Amazon Redshift
- マネージドなデータウェアハウス

### Amazon Athena
- S3に保存された様々な形式のデータに対して直接 SQL を発行し分析を実行するマネージドサービス
- フェデレーテッドクエリを使用すると、S3 以外にも RDS、Redshift、DynamoDB など様々なデータソースに対してクエリを実装可能

### Amazon QuickSight

- S3, Athena, Redshift 等に蓄積されたデータの可視化/分析を行う BI サービス

## 運用管理

### AWS Systems Manager
- EC2 中心の AWS 環境運用やオンプレ運用を効率化するサービス

#### 機能
- Parameter Store
    - AWS サービス/アプリで用いるパラメータの管理機能

### AWS CloudFormation
- JSON/YAML テンプレートから AWS リソース環境を構築

### AWS Compute Optimizer

- 実利用メトリクス（CloudWatch 等）を分析し、最適なサイズ/構成を推奨するサービス
- 過/過小プロビジョニングを検出してコスト削減＋性能維持/改善
- 対象：EC2/Auto Scaling グループ、EBS、Lambda、ECS on Fargate

:::message
Compute Optimizer は垂直的なライトサイジング^[ライトサイジング(right-sizing): ワークロードに適したリソースサイズ・タイプに調整し、コストを削減しながらパフォーマンスを維持/改善すること]に有用だけど、水平スケーリングの規模/ポリシーは推奨しない
:::

### AWS Control Tower
- マルチアカウント環境の標準化・自動化を迅速に実現

## 機械学習

### Amazon Comprehend
- 自然言語処理を用いてテキストを分析するためのサービス

### Amazon Forecast
- 時系列予測^[時系列予測：時間とともに変化する値の未来を予測すること　例）日次売上、時間別トラフィック、週間気温など]を行う機械学習モデルを構築するサービス

### Amazon Polly
- テキスト読み上げ（TTS、Text-To-Speech）を行うサービス

### Amazon SageMaker
- エンドツーエンドの機械学習プラットフォーム

## セキュリティ

### AWS CloudTrail
- AWSアカウントで発生したAPI呼び出し・コンソール操作の監査ログ(Audit Log)を自動的に記録するサービス

### AWS Shield
- DDoS攻撃からシステムを保護する仕組み
- 種類
    - Standard: L3(ネットワーク層)、L4(トランスポート層)を対象とした攻撃の保護
    - Advanced: L3、L4 に WAF を連携させ、L7(アプリケーション層)を保護 (24時間365日サポートあり)

### AWS WAF (Web Application Firewall)
- HTTP(S)リクエストを監視可能なWebアプリケーションファイアウォール

### AWS KMS (Key Management Service)
- データを暗号化するための鍵を管理するサービス

#### 暗号化方式
- CSE(Client-Side Encryption)
    - クライアント(アプリ)がアップロード前に暗号化  
    - 鍵/復号ロジックなどをアプリが管理する必要があるため運用は複雑だが、クラウドに鍵を保管できない状況に適している
- SSE(Server-Side Encryption)
    - サーバー（例：S3）が保存直前に暗号化、返却時に復号
    - 運用が簡単でほとんどの規制準拠を満たし、S3機能との互換性が高い
    - タイプ    
        - SSE-KMS: KMS使用 → 詳細な権限/監査が可能
        - SSE-S3: KMS未使用、S3自身のキー(AES-256)
        - SSE-C: KMS未使用、顧客がキーをヘッダーで提供(運用負担が大きい)

### AWS Secrets Manager
- データベースのパスワードやAPIキーなど、データが漏洩するリスクのある認証情報（シークレット）を集約して管理するサービス

:::message
Systems Manager Parameter Store とは異なり、Secrets Manager には指定した間隔で自動的にパスワードを変更するシークレット自動ローテーション機能がある（ただし、より高価）
:::

### AWS Inspector
- EC2、ECRイメージ、Lambdaなどの脆弱性管理を支援するサービス

### Amazon GuardDuty
- 悪意のある活動や異常な動作を監視する脅威検知サービス

### Amazon Macie
- S3 バケットと S3 バケット内のオブジェクトを分析し、機械学習とパターンマッチングを使用してリスクを検出したりデータを分類したりするサービス

### AWS Security Hub
- AWS のセキュリティ状態に関する包括的なビューを提供

### ACM (AWS Certificate Manager)
- SSL^[SSL(Secure Sockets Layer): 旧式の通信経路暗号化規格。現在は脆弱性のため使用されていない]/TLS^[TLS(Transport Layer Security): SSLの後継規格] サーバー証明書の管理機能を提供するマネージドサービス

#### 機能

- 証明書の発行
    - ドメイン検証を完了した公認証明書（無料）およびプライベート証明書（有料）を発行し、AWSで使用可能にする機能

:::message
CloudFrontでACM証明書を使用するには、米国東部（バージニア北部）リージョン（`us-east-1`）で証明書をリクエストまたはインポートする必要がある
:::

## Disaster Recovery

### バックアップ・リストア
- 定期的にバックアップを保管し、障害時に復元
- RTO 数時間(最も遅い)、コスト低

### パイロットライト
- コア層(データ等)のみ最小容量で常時稼働し、障害時に拡張
- RTO 数十分、コスト低～中

### ウォームスタンバイ
- 全スタックを縮小容量で常時稼働
- RTO 数分、コスト中～高

### マルチサイト アクティブ/アクティブ
- 複数リージョンが同時にトラフィック処理
- RTO ほぼリアルタイム、コスト高

## 🌷 終わり

数ヶ月前まで「Fargate って AWS ですか」とか言ってたレベル感でしたけど、資格勉強してて各サービスが何をするものなのかはわかってきた気がします。

来年は SAP も取るぞ！
