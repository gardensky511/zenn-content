---
title: "AWS SAA ノート整理"
emoji: "🤖"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["aws"]
published: false
---

## 🌼 はじめに

## 네트워크

### Amazon VPC (Virtual Private Cloud)

#### VPC (Virtual Private Cloud)
- AWS 안에 가상 프라이빗 네트워크를 구축할 수 있는 서비스

#### 서브넷 (Subnet)
VPC 안을 가용 영역(AZ) 단위로 쪼갠 IP 범위
- 퍼블릭 서브넷 : 인터넷과 직접 통신되는 서브넷
- 프라이빗 서브넷 : 인터넷과 직접 통신하지 않고 필요 시 아웃바운드만 나가는 서브넷

:::message
서브넷은 AZ를 가로질러 만들 수 없음 (하나의 AZ 안에 서브넷은 여러 개 만들 수 있음)
:::

#### VPC 의 외부 통신

- 인터넷 게이트웨이 (Internet Gateway)
  - 퍼블릭 서브넷과 공용 인터넷을 연결(양방향 통신)
- NAT 게이트웨이 (Network Address Translation Gateway)
  - 프라이빗 서브넷과 공용 인터넷을 연결(아웃바운드 전용)
- VPC 피어링 연결 (VPC Peering)
  - 독립된 2개의 VPC를 연결하고 프라이빗 주소를 사용해 서로 통신
- 가상 프라이빗 게이트웨이 (Virtual Private Gateway)
  - 온프레-AWS 연결시 VPC측 게이트웨이
- 고객 게이트웨이 (Customer Gateway)
  - 온프레-AWS 연결시 온프레측 게이트웨이
- VPC 엔드포인트 (VPC Endpoint)
  - VPC 내 리소스가 인터넷 없이(IGW/NAT 없이) AWS 서비스에 사설로 접근하도록 하는 기능
  - 종류
    - Gateway VPC Endpoint: S3, DynamoDB 전용 (엔드포인트 자체 비용이 없음)
    - Interface VPC Endpoint: 대부분의 AWS 서비스 대상
- Transit Gateway
  - 여러 VPC, 온프레미스 네트워크(VPN/Direct Connect) 를 하나의 허브에 붙여서 중앙에서 라우팅

#### VPC 의 접근 제어

- 보안 그룹 (Security Group)
  - 리소스 수준으로 들어오는/나가는 트래픽 제어
  - Stateful 이라 응답 통신은 자동 허가(Inbound 기본 차단, Outbound 기본 허용)
- 네트워크 ACL (Network Access Control List)
  - 서브넷 수준으로 들어오는/나가는 트래픽 제어
  - stateless 라 응답 통신에도 허가 설정 필요

### Amazon Route 53

- DNS(Domain Name System) 서비스
- 도메인 이름과 IP 주소 사이의 변환 작업

#### 라우팅 정책

가장 빠른 응답을 반환할 수 있도록 응답 동작을 제어하는 방식

- 단순 라우팅 (Simple)
  - 기본적인 라우팅
- 페일오버 라우팅 (Failover)
  - Primary 장애 시 Secondary로 자동 전환
- 가중치 기반 라우팅 (Weighted)
  - 사용자 정의 비율에 기반하여 트래픽 분산
- 지연 기반 라우팅 (Latency-based)
  - 사용자에게 지연이 가장 낮은 리전으로 보냄
- 위치 정보 라우팅 (Geolocation)
  - 사용자 위치(국가/대륙) 기준으로 보냄
- 다중값 응답 라우팅 (Multi-Value Answer)
  - 헬스체크된 여러 IP를 간단 라운드로빈
- 지리적 근접성 라우팅 (Geoproximity)
  - 사용자와 시스템의 물리적 거리를 토대로 라우팅

### ELB (Elastic Load Balancing)

#### ALB (Application Load Balancer)
- L7(애플리케이션 층) 레벨 라우팅 (HTTP/HTTPS)

#### NLB (Network Load Balancer)
- L4(트랜스포트 층) 레벨 라우팅 (TCP/UDP)

## 컴퓨팅

### Amazon EC2 (Elastic Compute Cloud)

#### EC2 (Elastic Compute Cloud)
- 가상 서버 환경을 제공하는 서비스

#### EIP (Elastic IP)
- 동적 클라우드 컴퓨팅을 위해 고안된 정적 IPv4 주소
- 인스턴스를 재시작/바꿔도 IP가 바뀌지 않게 유지 가능

#### 인스턴스 유형

- 범용
  - T: 소규모 애플리케이션, M: 대부분의 애플리케이션
- 컴퓨팅 최적화
  - 높은 CPU 성능이 필요한 워크로드
- 메모리 최적화
  - 대용량 메모리가 필요한 워크로드
- 스토리지 최적화
  - 매우 높은 I/O 성능이 필요한 워크로드

#### 인스턴스 구입 옵션

- 온디맨드 인스턴스 (On-Demand)
  - 사용한 만큼 시간(초) 단위 과금, 약정 없음
- 예약 인스턴스 (Reserved Instances)
  - 1년/3년 약정으로 요금 할인
  - 유형
    - Standard RI: 할인 최고, 속성 고정 
    - Convertible RI: 할인 낮음, 기간 중 다른 속성으로 교체 가능
- 스팟 인스턴스 (Spot Instances)
  - AWS의 남는 용량을 경매형으로 저가에 제공
  - 언제든 쫓겨날 가능성이 있기 때문에 무상태·재시도 가능한 잡에만 권장
- 절감형 플랜 (Savings Plans)
  - 1년/3년 동안 시간당 이용료를 약정 (예약 인스턴스보다 변경이 유연)

#### 배치 그룹
- EC2 인스턴스 실행 시 AWS 가용 영역의 물리적인 배치 전략을 선택할 수 있는 기능
- 종류
  - 클러스터: 단일 가용 영역 안의 가까운 위치에 인스턴스를 배치 (인스턴스 사이에 지연이 낮음)
  - 스프레드: 인스턴스를 서로 다른 하드웨어에 분산 배치 (동시 장애 최소화)
  - 파티션: AZ를 여러 파티션으로 나누어 각 파티션을 서로 다른 하드웨어에 배치 (대규모 분산 시스템의 장애 격리)

#### ASG (Auto Scaling)

서버 부하 상승, 장애 등을 탐지해 자동으로 EC2 인스턴스 수를 증감

#### 기본 종료 정책
1. 인스턴스 수가 가장 많은 AZ 확인
2. 가장 오래된 시작 구성 확인
3. 청구 단위/수명 등을 고려

## 스토리지

### Amazon S3 (Simple Storage Service)
- 무제한 용량의 객체 스토리지를 제공하는 서비스
- 높은 내구성, 저렴한 요금

#### 스토리지 클래스

- 표준
  - 일반적 스토리지
- Intelligent-Tiering
  - 접근 빈도에 따라 자동으로 스토리지 클래스 변경
- 표준 Infrequent Access
  - 표준보다 저렴 (데이터 꺼낼 때 비용 발생)
- One Zone-Infrequent Access
  - 단일 AZ에 저장하는 대신 비용 저렴 (데이터 꺼낼 때 비용 발생)
- Glacier Instant Retrieval
  - 아카이브용, 데이터 즉시 접근 (밀리초 단위)
- S3 Glacier Flexible Retrieval
  - 아카이브용, 데이터 꺼내는데 수분~수시간 걸림
- Glacier Deep Archive
  - 아카이브용, 가장 저렴, 데이터 꺼내는데 12~24시간 걸림

#### 기능

- 라이프 사이클
  - 지정한 날짜 수가 경과한 뒤 버킷 안의 객체를 삭제하거나 스토리지 클래스를 변경하는 기능
- 서명된 URL
  - S3 객체에 일시적으로 접근 가능한 URL을 생성하는 기능
- 버킷정책
  - 누가 어떤 객체에 대해 무엇을 할 수 있는지 상세하게 제어할 수 있는 기능
- 버전 관리
  - 객체 업데이트의 버전을 관리하는 기능
- TA (Transfer Acceleration)
  - 전 세계 엣지 로케이션(CloudFront 네트워크)를 거쳐 S3 버킷으로 가는 업/다운로드 가속 기능
- 멀티파트 업로드 (Multipart Upload)
  - 큰 파일을 나눠서 병렬적/독립적으로 실패한 부분만 다시 골라서 보낼 수 있는 기능
- Object Lock
  - 객체를 수정/삭제 불가능한 상태로 보존
    - 모드
      - 거버넌스 모드: 관리자 권한이 있으면 우회/단축 가능
      - 컴플라이언스 모드: 아무도 우회/단축 불가
- 엑세스 포인트 (Access Points)
  - 큰 S3 버킷을 여러 소비자(앱/팀/VPC)별로 안전하게 나눠 쓰게 해 주는 전용 엔드포인트
- Inventory
  - S3 버킷(또는 버킷의 프리픽스)에 있는 객체 목록과 메타데이터를 정기적으로 CSV 또는 Parquet 파일로 만들어주는 기능
- Batch Operations
  - S3 객체를 수백만~수십억 개 단위로 일괄 처리해 주는 기능

### Amazon EBS (Elastic Block Store)

- EC2용 블록 스토리지 제공
- EBS볼륨(EBS로 작성된 블록 스토리지)는 EC2인스턴스에 연결
- EBS볼륨은 같은 AZ에 있는 EC2만 연결 가능

:::message
EBS는 EC2인스턴스를 꺼도 비용이 청구됨
:::

#### 볼륨 종류
- 범용SSD(gp3)
  - 표준 설정
- 프로비저닝^[서버·스토리지·네트워크 등을 미리 마련해 두어, 애플리케이션이 즉시 사용할 수 있게 하는 준비 작업]된 IOPS SSD(io2)
  - 필요한 IOPS^[IOPS(Input/Output Operations Per Second): 1초당 처리할 수 있는 읽기/쓰기의 접근 수]를 지정해서 작성하는 볼륨으로 높은 처리량이 요구되는 경우 적합
  - 볼륨당 최대 IOPS는 64,000
- 처리량 최적화 HDD(st1)
  - 높은 처리량, 낮은 요금
- 콜드 HDD(sc1)
  - 데이터 아카이브 등 사용빈도 낮은 데이터 저장에 적합

:::message
처리량/비용 큰 순서: 프로비저닝된 IOPS SSD > 범용SSD > 처리량 최적화 HDD > 콜드 HDD
:::

### Amazon EFS (Elastic File System)

- AWS에 파일 스토리지를 제공하는 서비스
- VPC 안에 작성하고 EC2/ECS 등에서 사용 가능

#### 처리량 모드

- 버스트 처리량 모드
  - 용량 비례 기본 처리량에 크레딧으로 잠깐 가속
- 프로비저닝 처리량 모드
  - 용량 관계 없이 돈 내고 원하는 처리량 항상 보장

### Amazon FSx

- 완전관리형 파일 스토리지 제품군

#### FSx for Windows File Server
- 네이티브 Windows 파일 서버(SMB^[SMB(Server Message Block): 윈도우식 네트워크 파일 공유 프로토콜]) 를 AWS가 대신 운영해 주는 서비스
- 윈도우 전용 파일 스토리지 제공(SMB)

#### FSx for NetApp ONTAP
- NetApp의 엔터프라이즈 파일시스템 ONTAP을 AWS에서 완전관리형으로 제공하는 서비스
- 파일 스토리지(NFS^[NFS(Network File System): 원격 폴더를 네트워크로 공유해서 클라이언트가 로컬 디렉터리처럼 마운트해 쓰는 파일 프로토콜], SMB), 블록 스토리지(iSCSI^[iSCSI(Internet Small Computer Systems Interface): IP 네트워크 위에서 원격 스토리지를 ‘블록 디스크’처럼 붙여 쓰게 해주는 프로토콜]) 제공

## 데이터베이스

### Amazon RDS (Relational Database Service)
- 구축과 운용을 쉽게 만든 관계형 데이터베이스

#### 기능

- 다중 가용 영역 배치 (Multi-AZ)
  - 다른 AZ에 스탠바이 DB 배치
  - 동기식 복제^[프라이머리 인스턴스가 트랜잭션 커밋을 완료했다고 응답하기 전에, 동일 리전의 스탠바이에 복제가 된 다음에 커밋을 확정하는 방식]라 이론상 RPO^[RPO(Recovery Point Objective): 장애 발생시 허용 가능한 최대 데이터 손실 시간]≈0이나, 프라이머리가 스탠바이 확인을 기다리므로 쓰기 지연이 소폭 증가할 수 있음
- 읽기 전용 복제본 (Read Replicas)
  - 주 DB를 복제해 읽기 트래픽 전용으로 쓴 인스턴스
  - 비동기식 복제^[프라이머리가 먼저 커밋을 끝내고 응답한 뒤, 그 변경사항을 나중에 복제본이 받아서 적용하는 방식]라 쓰기 지연 증가는 없지만 장애 시 복제본을 승격하면 몇 초~분 정도의 데이터가 손실될 가능성이 있음(RPO>0)
- 자동 백업 (Automated Backups)
  - Amazon RDS가 매일 자동으로 백업을 만들고 보존 기간(1–35일) 동안 보관해 주는 기능

### Amazon Aurora

- RDS 데이터베이스 엔진의 한 종류
- 다른 RDS에 비해 고가용성, 빠른 페일오버, 읽기 복제본 확장/오토스케일링이 강점

:::message
쓰기 성능 저하가 보일 때도 읽기 전용 복제본을 늘려 읽기 트래픽을 분산하면 Writer 자원이 확보되어 전체 성능이 개선될 수 있음.
:::

#### 기능

- Aurora Serverless
  - 트래픽에 맞춰 용량을 자동으로 증감(무중단에 가깝게 미세 스케일링)
- Aurora Global Database
  - Amazon Aurora를 여러 리전에 걸쳐 하나의 글로벌 클러스터로 운영하게 해주는 기능
  - 일반적으로 RPO≈1초 미만, RTO^[RTO (Recovery Time Objective): 장애 발생시 서비스를 복구해 정상 운영까지 걸릴 수 있는 최대 시간]≈수분 수준의 관리형(자동화된) 페일오버/스위치오버 제공

### Amazon DynamoDB

- NoSQL 로 스키마리스 테이블 구성

#### 기능

- DynamoDB Accelerator
  - 읽기 가속 전용 관리형 인메모리 캐시
- Global Tables
  - 하나의 테이블을 여러 리전에 자동 복제 해서 각 리전에서 로컬처럼 읽기/쓰기 할 수 있게 해주는 기능

:::message
DynamoDB는 읽기 전용 복제본(Read Replica) 없음
:::

### Amazon Neptune

- 완전관리형 그래프 데이터베이스

### Amazon ElastiCache

- 설정, 운용, 확장이 용이한 관리형 캐시 서비스
- 주로 RDB에 저장된 마스터 데이터를 캐시하여 처리 고속화, 세션 데이터 공유 등에 사용

#### ElastiCache for Memcached
- 문자열 기반의 단순·초경량 인메모리 캐시 전용 시스템
- 영속성/복제/자동 페일오버 없음

#### ElastiCache for Redis
- 다양한 자료구조와 영속성·복제·페일오버까지 지원하는 인메모리 키-값 데이터 스토어
- 영속성(AOF/RDB 스냅샷), 복제, Multi-AZ 자동 페일오버, 클러스터 샤딩^[클러스터 샤딩: 데이터를 여러 “샤드(shard)”(= 파티션)로 나눠 여러 노드에 분산 저장/처리하는 방식] 지원

### AWS SCT (Schema Conversion Tool)

- 이종 DB 간 스키마 변환 도구로 테이블/인덱스/뷰/스토어드 프로시저 등을 대상 DB 문법으로 변환하고, 변환이 어려운 부분은 수정 가이드 제공

### AWS DMS (Database Migration Service)

- 데이터베이스를 최소 다운타임^[다운타임(downtime): 시스템이나 서비스가 사용 불가능한 시간]으로 AWS로 옮기거나(마이그레이션), 지속 복제(동기화) 할 수 있게 해주는 완전관리형 서비스
- 소스와 타깃이 같을 수도(Oracle→RDS for Oracle) 다를 수도(Oracle→Aurora MySQL) 있음

## 어플리케이션 통합

### Amazon SQS (Simple Queue Service)
- 확장성을 제공하는 완전 관리형 분산 메시지 큐 서비스

#### SQS 구성 요소

- 생산자(Producer)
  - 메시지를 큐에 송신하는 소스 (ex. EC2, Fargate, Lambda 등)
- 메시지(message)
  - 생산자가 생성하는 데이터
- 큐(queue)
  - 생산자가 보낸 메시지 보관
- 소비자(Consumer)
  - 큐에서 메시지를 취득하는 소스 (ex. EC2, Fargate, Lambda 등)

#### SQS 큐 종류

- 표준
  - 메시지 순서를 보증하지 않음
  - at-least-once 처리
- FIFO(First In First Out)
  - 메시지 순서를 보증
  - exactly-once 처리

#### SQS 메시지 취득

1. 소비자가 큐에서 메시지 폴링(일정 간격으로 큐의 메시지 존재 여부 확인)
2. 소비자가 메시지 취득, 처리 수행
3. 소비자가 처리 완료 후 큐에서 메시지 삭제

여러 번 처리에 실패한 메시지는 DLQ(Dead-Letter Queue)에 이동

:::message
SQS에서 메시지를 한 번 받으면 즉시 큐에서 삭제되진 않음. 소비자가 메시지를 취득하면 큐의 메시지는 보이지 않는 상태가 되고(가시성 타임아웃), 소비자가 처리 후 큐에서 메시지를 삭제해야 실제로 제거됨
:::

### Amazon SNS (Simple Notification Service)
- 관리형 메시지 전송 서비스

#### SNS 구성 요소

- 발행자(Publisher)
  - 메시지를 발행하는 소스 (ex. EC2, S3, Lambda 등)
- 토픽(Topic)
  - 통신 채널로 기능하는 논리적 액세스 포인트
  - 토픽에 발행된 메시지는 즉시  구독자에 송출됨
- 구독자(Subscriber)
  - 토픽을 구독하는 엔드포인트 (ex. SQS, Lambda 등)

:::message
- SNS는 발행자가 푸시하는 모델이라 구독자가 폴링할 수 없음
- 토픽은 메시지를 즉시 구독자에게 푸시하기 때문에 메시지를 쌓아둘 수 없음
- 팬아웃^[팬아웃(fan-out): 하나의 메시지를 여러 소비자에게 복사해서 동시에 보내는 패턴] 가능(다수 구독자에 동시에 푸시 가능)
:::

### Amazon EventBridge

- AWS 서비스·사내 앱·SaaS의 이벤트를 이벤트 버스^[이벤트 버스(event bus): 여러 곳에서 올라오는 이벤트를 한 통로로 받아 모아 필요한 곳으로 규칙에 따라 보내주는 중간 허브]로 모으고, 필터/변환해 타깃(Lambda, Step Functions, SQS/SNS, ECS 등) 으로 전달하는 이벤트 중심 통합 서비스

## 자격 증명
### Amazon IAM (Identity and Access Management)

- IAM 사용자
  - AWS 계정 안에서 작성할 수 있는 사용자
- IAM 그룹
  - 사용자를 그룹으로 나누는 기준
- IAM 정책
  - AWS 리소스에 대한 접근 권한 제어
  - 사용자/그룹/역할에 붙임 → 이 주체가 뭘 할 수 있는지 정의
  - 리소스에 붙임 → 이 리소스에 누가 어느 경로로 접근 가능한지 정의
- IAM 역할
  - 특정 권한을 가진 IAM 자격 증명 (그룹엔 연결 못함)
- STS (Security Token Service)
  - 일시적인 인증정보(IAM 역할의 일시적인 액세스)를 부여
- IAM Database Authentication
  - 접속 토큰(약 15분 유효)을 받아 비밀번호 없이 RDS/Aurora( MySQL·PostgreSQL) 에 접속하는 방식

## CDN
### Amazon CloudFront
- CDN 기능을 가진 관리형 서비스
- 오리진(콘텐츠 송출하는 서버)와 엣지 로케이션(일부 콘텐츠를 일시적으로 캐시하는 서버)로 구성

## 엔터프라이즈

### AWS Global Accelerator
- AWS가 독자적으로 보유한 네트워크를 사용해 시스템으로 접근하는 속도를 가속화하고 가용성을 높이는 서비스

:::message
Global Accelerator 에 연결 가능한 엔드포인트는 ALB, NLB, EC2, EIP (S3는 불가능)
:::

### AWS VPN

- 클라이언트 거점이나 단말, VPC 사이에서 VPN 연결을 확립하고 폐쇄적인 연결을 구현

#### Site-to-Site VPN

- 온프레미스 ↔ AWS 간을 VPN으로 연결하는 서비스(관리형)
- 고객 게이트웨이와 가상 프라이빗 게이트웨이로 구성

### AWS Direct Connect

- 사용자의 거점과 AWS를 전용선으로 연결하는 서비스
- 전용선을 사용하므로 거점과 AWS에서 안정적 폐쇄 네트워크를 통해 통신 가능

:::message
복원력이 뛰어난 연결을 원하는 경우 이중화된 DX(Direct Connect) 권장
:::

### AWS Storage Gateway

- 온프레미스 환경과 AWS를 연결해 온프레미스의 백업을 취득하는 서비스

#### File Gateway
- 온프레에 NFS/SMB 파일공유를 그대로 제공하면서 파일을 S3에 자동 저장(로컬 캐시 + 비동기 업로드)
- 온프레미스 시스템에서 접근하는 속도를 유지하면서 온프레미스의 파일을 백업하고 싶은 경우 적합

#### Volume Gateway
- 온프레미스의 디스크 안에 있는 데이터를 일부 또는 전부 남기면서 디스크 데이터를 S3에 복제
- 종류
  - Cached Volumes: 원본은 S3, 자주 쓰는 블록만 로컬 캐시
  - Stored volumes: 원본은 온프레, 변경분을 비동기 스냅샷으로 S3에 백업

### AWS Snowball Edge
- 인터넷 없이 물리 장치로 대용량 데이터를 AWS 서비스로 옮기는 이관 박스
- 수십 TB~PB급 데이터를 온프레↔AWS 마이그레이션 때 유용

### AWS DataSync
- 온프레미스 ↔ AWS 간(또는 AWS 간) 대용량 파일 데이터 전송을 자동화/가속하는 온라인 전송 서비스

### AWS Organizations
- 여러 AWS 계정을 한 곳에서 묶어 관리하게 해주는 서비스

#### 기능

- SCP (Service Control Policy)
  - 각 계정/OU^[OU(Organizational Unit): AWS Organizations에서 계정들을 묶어 두는 폴더/그룹이]에 붙여서 그 계정에서 절대 허용하지 않을 액션·서비스·리전을 중앙에서 차단할 수 있는 기능
  - 각 계정의 IAM 권한이 가질 수 있는 최대 범위(상한) 를 정의

## 서버리스

### AWS Lambda

- Lambda 함수
  - 필요할 때 필요한 만큼 앱을 실행할 수 있는 서버리스 핵심 서비스

:::message
- Lambda 함수의 최대 실행 시간은 15분이라 그 이상 걸리는 처리는 Lambda 함수로 처리 불가
- Lambda 함수의 환경 변수는 KMS로 암호화 가능
:::

### Amazon Cognito
- 웹 앱이나 모바일 앱에 인증 기능을 제공하는 서비스

#### 사용자 풀 (User Pool)
- 앱의 회원, 로그인 시스템을 제공하는 관리형 서비스

#### 자격 증명 풀 (Identity Pool)
- 사용자 풀로 인증된 사용자에게 임시 STS를 발급해 AWS 서비스에 접근하도록 허가하는 기능

:::message
사용자 풀(User Pool)만으로는 AWS 서비스에 접근할 AWS 자격증명을 만들 수 없음
:::

## 컨테이너

### Amazon ECS (Elastic Container Service)
- 도커 컨테이너를 자유롭게 확장하고 간단하게 실행, 정지, 관리할 수 있는 컨테이너 서비스
- 리전 안에 여러 AZ를 가로질러 컨테이너 실행 가능(고가용성)

#### 실행 타입
- EC2 실행 타입
  - 사용자가 EC2 클러스터^[여러 컴퓨팅 자원을 한 묶음으로 모아 하나의 시스템처럼 쓰는 집합] 관리
- Fargate 실행 타입
  - 서버리스 → AWS가 클러스터 관리

#### 기능

- ECS Anywhere
  - 온프레미스(또는 다른 클라우드) 서버에서 돌리는 컨테이너를 AWS 콘솔에서 한곳에 모아 배포·업데이트·모니터링할 수 있게 해주는 기능

### Amazon EKS (Elastic Kubernetes Service)
- 컨테이너 오케스트레이션 플랫폼인 쿠버네티스의 관리형 서비스

#### Worker Node

- 관리형 노드 그룹 (Managed Node Group)
  - EC2 워커 노드 운영 작업을 AWS가 자동화
  - 그래도 여전히 EC2 과금/보안그룹/IAM 인스턴스 프로파일은 필요
- 자체 관리형 노드 (Self-managed)
  - ASG/AMI/패치를 직접 운영
  - 최대 커스터마이즈 가능하지만 운영 부담↑
- AWS Fargate
  - 노드 개념 없이 Pod 단위 서버리스 실행
  - Daemon Set 을 사용할 수 없거나 쿠버네티스 기능의 일부 제한 있음

#### 권한부여

쿠버네티스 SA(Service Account) 단위로 AWS 권한을 부여할 경우 IRSA(IAM Roles for Service Accounts) 방식으로 권한 부여가 필요

1. EKS OIDC^[OIDC (OpenID Connect): 인증 표준으로 사용자를 증명하는 ID 토큰(JWT) 발급] 공급자 등록
2. IAM 정책 + 역할 생성
3. 쿠버네티스 SA에 역할을 주석으로 연결

## 데이터 분석
### Amazon Kinesis
- 스트리밍 데이터^[연속적(실시간)으로 생성·발생해서 지연 없이 즉시 소비·처리해야 하는 데이터] 송출 기능을 제공하는 관리형 서비스

#### Kinesis Data Streams
- 다른 시스템에서 송신된 스트림 데이터를 받아 AWS 서비스에 실시간으로 송출하는 서비스
#### Kinesis Data Firehose
- S3, Redshift, OpenSearch 등의 스토리지 서비스나 데이터베이스 서비스에 스트림 데이터를 로드시키는 서비스
#### Kinesis Video Streams
- 동영상을 AWS에 스트림 데이터로 가져와 다양한 AWS 서비스나 디바이스로 송출하는 서비스

### AWS Glue
- 서로 다른 데이터 저장소 간에 데이터를 손쉽게 이동시키는 강력한 ETL^[ETL: 데이터 처리 파이프라인의 전형적인 3단계(Extract, Transform, Load)를 가리키는 약어] 서비스
- S3, Amazon RDS, Amazon Redshift 등 다양한 소스에서 데이터를 전송하기 위한 ETL 작업을 쉽게 생성하고 관리할 수 있음
- 특정 요구 사항에 맞게 데이터를 필요에 따라 변환할 수 있음

### AWS Glue DataBrew
- 데이터 분석에 사용되는 데이터 전처리를 빠르고 쉽게 수행할 수 있는 GUI 제공 서비스

### Amazon EMR (Elastic MapReduce)
- AWS의 관리형 빅데이터/분산 처리 플랫폼

### Amazon Redshift
- 데이터 웨어하우스를 제공하는 관리형 서비스

### Amazon Athena
- S3에 저장된 다양한 형식의 데이터에 대해 직접 SQL을 발행하여 분석을 수행하는 관리형 서비스
- Federated 쿼리를 사용하면 S3 이외에도 RDS, Redshift, DynamoDB 등 다양한 데이터 소스로 쿼리 구현 가능

### Amazon QuickSight

- S3, Athena, Redshift 등에 축적된 데이터를 시각화하고 분석하기 위한 기능을 제공하는 BI 서비스

## 시스템 관리

### AWS Systems Manager
- EC2 중심 AWS 환경 운용/온프레 환경 운용도 효율화 하는 서비스

#### 기능
- Parameter Store
  - AWS 서비스나 애플리케이션에서 사용하는 매개변수를 관리하는 기능

### AWS CloudFormation
- JSON이나 YAML 형식으로 기술된 템플릿 파일에서 AWS 리소스 환경을 구축하는 서비스

### AWS Compute Optimizer

- 실제 사용 메트릭(CloudWatch 등)을 분석해 가장 적절한 사양/구성으로 리소스를 추천해 주는 서비스
- 과·저프로비저닝을 찾아 비용 절감 + 성능 유지/개선
- 대상: EC2/Auto Scaling 그룹, EBS, Lambda, ECS on Fargate

:::message
Compute Optimizer 는 수직적 라이트사이징^[라이트사이징(right-sizing): 워크로드에 맞는 리소스 크기·타입으로 조정해 비용을 줄이면서 성능을 유지/개선하는 것]에 유용하지만 수평 확장 규모/정책을 추천하지는 않음
:::

### AWS Control Tower
- 멀티계정 환경을 빠르게 표준화·자동화해 주는 서비스

## 머신러닝

### Amazon Comprehend
- 자연어 처리를 사용해 텍스트를 분석하기 위한 서비스

### Amazon Forecast
- 시계열 예측^[시계열 예측: 시간에 따라 변하는 값의 미래를 예측하는 것 ex) 매일 매출, 시간별 트래픽, 주간 온도 등]을 수행하는 머신러닝 모델을 구축하는 서비스

### Amazon Polly
- 텍스트 읽기(TTS, Text-To-Speech)를 수행하는 서비스

### Amazon SageMaker
- 엔드투엔드 머신러닝 플랫폼

## 보안

### AWS CloudTrail
- AWS 계정에서 일어난 API 호출·콘솔 작업의 감사 로그(Audit Log) 를 자동으로 기록해 주는 서비스


### AWS Shield
- DDoS 공격으로부터 시스템을 보호하는 구조
- 종류
  - Standard: L3(네트워크 층), L4(트랜스포트 층) 대상 공격 보호
  - Advanced: L3, L4 에 WAF 연계로 L7(애플리케이션 층) 보호 (365일 24시간 서포트 있음)

### AWS WAF (Web Application Firewall)
- HTTP(S) 요청을 모니터링할 수 있는 웹앱 방화벽

### AWS KMS (Key Management Service)
- 데이터를 암호화하기 위한 키를 관리하는 서비스

#### 암호화 방식

- CSE(Client-Side Encryption)
  - 클라이언트(앱)가 업로드 전에 암호화
  - 키/복호화 로직 등을 앱이 관리해야 해서 운영이 복잡하지만 클라우드에 키를 보관 불가능한 상황에 적합
- SSE(Server-Side Encryption)
  - 서버(예: S3)가 저장 직전에 암호화, 반환 시 복호화
  - 운영 간단하고 대부분의 규정 준수 충족, S3 기능들과 호환성 높음
  - 유형
    - SSE-KMS: KMS 사용 → 세밀한 권한/감사 가능
    - SSE-S3: KMS 미사용, S3 자체 키(AES-256)
    - SSE-C: KMS 미사용, 고객이 키를 헤더로 제공(운영 부담 큼)


### AWS Secrets Manager
- 데이터베이스의 비밀번호나 API 키 등 데이터가 유출될 위험성이 있는 인증(시크릿)을 모아 관리하는 서비스

:::message
Systems Manager Parameter Store 과 달리 Secrets Manager는 지정한 간격으로 자동으로 비밀번호 변경해주는 시크릿 자동 로테이션 기능이 있음(대신 더 비쌈)
:::

### AWS Inspector
- EC2, ECR 이미지, Lambda 등의 취약성 관리 지원 서비스

### Amazon GuardDuty
- 악의적 활동, 비정상 동작을 모니터링하는 위협 탐지 서비스

### Amazon Macie
- S3 버킷과 S3 버킷 안 객체를 분석하고 머신러닝과 패턴 매칭을 사용해 위험을 검출하거나 데이터를 분류하는 서비스

### AWS Security Hub
- AWS 보안 상태에 대한 포괄적인 보기 제공

### ACM (AWS Certificate Manager)
- SSL^[SSL(Secure Sockets Layer): 예전의 전송 구간 암호화 규격. 현재는 취약해서 더 이상 쓰지 않음]/TLS^[TLS(Transport Layer Security): SSL의 후속 표준] 서버 증명서 관리 기능을 제공하는 관리형 서비스

#### 기능

- 인증서 발행
  - 도메인 검증을 완료한 공인 증명서(무료) 및 사설 증명서(유료)를 발행하고 AWS에서 사용할 수 있게 해주는 기능

:::message
CloudFront에서 ACM 인증서를 사용하려면 미국 동부(버지니아 북부) 리전(`us-east-1`)에서 인증서를 요청하거나 가져와야 한다
:::

## DR(Disaster Recovery)

### 백업・복원
- 정기적으로 백업을 보관해두고 장애시 복원
- RTO 수시간(가장 느림), 비용 낮음

### 파일럿 라이트
- 핵심 계층(데이터 등)만 최소 용량으로 상시 구동하고 장애시 확장
- RTO 수십분, 비용 낮음~중간

### 웜 스탠바이
- 전체 스택을 축소 용량으로 상시 구동
- RTO 수분, 비용 중간~높음

### 다중 사이트 활성/활성
- 여러 리전이 동시에 트래픽 처리
- RTO 거의 실시간, 비용 높음

## 🌷 終わり


